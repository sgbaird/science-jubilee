
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Science Jubilee Primer &#8212; science_jubilee 0.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=2709fde1"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'getting_started/primer';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">science_jubilee 0.1 documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="index.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../building/index.html">
                        Build Guides
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../development/index.html">
                        Development
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../autoapi/index.html">
                        API Reference
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="index.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../building/index.html">
                        Build Guides
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../development/index.html">
                        Development
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../autoapi/index.html">
                        API Reference
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">Science...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="science-jubilee-primer">
<span id="primer"></span><h1>Science Jubilee Primer<a class="headerlink" href="#science-jubilee-primer" title="Link to this heading">#</a></h1>
<p>Last Edited: Blair, 2023.11.13</p>
<p>This page provides an introduction to key concepts for using <code class="docutils literal notranslate"><span class="pre">science_jubilee</span></code>. This primer is by no means exhaustive, but provides helpful background information for newcomers to Jubilee.  If you’re already familiar with computer-controlled machines, or if you want to learn how to use the <code class="docutils literal notranslate"><span class="pre">science_jubilee</span></code> codebase, feel free to skip ahead to the <span class="xref std std-ref">machine_intro</span>.</p>
<section id="gcode">
<h2>GCode<a class="headerlink" href="#gcode" title="Link to this heading">#</a></h2>
<p>GCode (or ‘geometry code’) is the standard language used by CNC machines like Jubilee. We can use GCode to move the machine around! By default, the machine will use millimeter for its units. To move to the (x, y, z) position (100mm, 50mm, 200mm) using GCode, we can write:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">G1</span> <span class="n">X100</span> <span class="n">Y50</span> <span class="n">Z200</span> <span class="p">;</span> <span class="n">move</span> <span class="n">the</span> <span class="n">the</span> <span class="n">position</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">G1</span></code> is the command for a ‘linear move’. Everything after the semicolon is a comment and is ignored by the machine. GCode is used in tandem with M-codes (or ‘miscellaneous codes’) which control non-movement related functions. For example, the command  <code class="docutils literal notranslate"><span class="pre">M114</span></code> will ask the machine to return its current position.</p>
<p>Different machines might use slightly different sets of GCode. This depends on the control board which the machine uses (which turns GCode commands into machine movements) and the firmware which the control board uses. Jubilee uses the Duet3D control board, which in turn runs RepRapFirmware. For a complete list of G and M Codes that can be used with Jubilee, take a look at the <a class="reference external" href="https://docs.duet3d.com/en/User_manual/Reference/Gcodes">Duet3D GCode Dictionary</a>. Already, you might see how tedious it would be to plan many movements using GCode directly; <code class="docutils literal notranslate"><span class="pre">science_jubilee</span></code> allows you to use Python code to build up many commands.</p>
</section>
<section id="coordinate-system">
<h2>Coordinate System<a class="headerlink" href="#coordinate-system" title="Link to this heading">#</a></h2>
<p>To send the machine to a position like we did above, the machine has to know where it is. This is accomplished by ‘homing’ the machine when you first power it on. Jubilee has 4 axes by default: the X, Y, and Z dimensional axes, and the toolchanger U axis. The X and Y axis directions are shown in the diagram below:</p>
<figure class="align-default" id="id1">
<a class="reference internal image-reference" href="../_images/jubilee-coordinates.jpg"><img alt="Jubilee coordinates." src="../_images/jubilee-coordinates.jpg" style="width: 342.0px; height: 358.5px;" />
</a>
<figcaption>
<p><span class="caption-text">Jubilee X &amp; Y axis directions, modified from the <a class="reference external" href="https://github.com/machineagency/jubilee/blob/main/software/slicer_settings/prusa_slic3r/bed_rendering/Jubilee_Bed_Graphic.png">Jubilee repo</a></span><a class="headerlink" href="#id1" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>The Z axis 0 position is the platforms highest position; the positive Z direction therefore moves the platform downwards. Each axis has a limit switch positioned at its origin. When we home an axis, the machine will move that axis until the switch is activated, at which point it is ‘homed’.</p>
<section id="absolute-and-relative-positioning">
<h3>Absolute and Relative Positioning<a class="headerlink" href="#absolute-and-relative-positioning" title="Link to this heading">#</a></h3>
<p>Our GCode movement commands can be interpreted as <em>absolute</em> or <em>relative</em> moves by the machine. In absolute positioning mode, the machine will move relative to the origin. In relative positioning mode, the machine will move relative to its last position. We can change our positioning mode using the <code class="docutils literal notranslate"><span class="pre">G90</span></code> command for absolute and <code class="docutils literal notranslate"><span class="pre">G91</span></code> for relative. For example, say we start at the origin (0,0,0). Consider the following move commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>                 <span class="p">;</span> <span class="n">to</span> <span class="n">start</span><span class="p">,</span> <span class="n">we</span> <span class="n">are</span> <span class="n">at</span> <span class="n">the</span> <span class="n">origin</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">G90</span>              <span class="p">;</span> <span class="n">use</span> <span class="n">absolute</span> <span class="n">positioning</span>
<span class="n">G1</span> <span class="n">X100</span> <span class="n">Y50</span> <span class="n">Z200</span> <span class="p">;</span> <span class="n">move</span> <span class="n">to</span> <span class="n">the</span> <span class="n">absolute</span> <span class="n">position</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
<span class="n">G91</span>              <span class="p">;</span> <span class="n">use</span> <span class="n">relative</span> <span class="n">positioning</span>
<span class="n">G1</span> <span class="n">X100</span>          <span class="p">;</span> <span class="n">move</span> <span class="mi">100</span><span class="n">mm</span> <span class="ow">in</span> <span class="n">X</span> <span class="n">relative</span> <span class="n">to</span> <span class="n">the</span> <span class="n">last</span> <span class="n">position</span>
</pre></div>
</div>
<p>In this example, the machine will end up at the position (200, 50, 200). Note that all subsequent commands will be in relative mode unless we explicitly return to absolute mode with a <code class="docutils literal notranslate"><span class="pre">G90</span></code> command. Swapping back and forth between modes is handled by <code class="docutils literal notranslate"><span class="pre">science_jubilee</span></code>, but it’s useful to understand the underlying GCodes as you get to know your machine.</p>
</section>
<section id="toolchanging">
<h3>Toolchanging<a class="headerlink" href="#toolchanging" title="Link to this heading">#</a></h3>
<p>When you configure tools for use on the machine, each will have a unique number. We can swap between tools with T commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">T1</span>  <span class="p">;</span> <span class="n">pickup</span> <span class="n">tool</span> <span class="mi">1</span>
<span class="n">T2</span>  <span class="p">;</span> <span class="k">return</span> <span class="n">tool</span> <span class="mi">1</span><span class="p">,</span> <span class="n">pickup</span> <span class="n">tool</span> <span class="mi">2</span>
<span class="n">T2</span>  <span class="p">;</span> <span class="n">does</span> <span class="n">nothing</span><span class="p">,</span> <span class="n">since</span> <span class="n">tool</span> <span class="mi">2</span> <span class="ow">is</span> <span class="n">already</span> <span class="n">selected</span>
<span class="n">T</span><span class="o">-</span><span class="mi">1</span> <span class="p">;</span> <span class="k">return</span> <span class="n">the</span> <span class="n">current</span> <span class="n">tool</span>
</pre></div>
</div>
<p>Behind the scenes, these T commands are running several other <em>macros</em>, or short pre-written GCode programs. The complete order of operations can be found in the <a class="reference external" href="https://docs.duet3d.com/en/User_manual/Reference/Gcodes">Duet GCode Dictionary</a> :</p>
<blockquote>
<div><ul class="simple">
<li><p>If another tool is already selected, run macro <code class="docutils literal notranslate"><span class="pre">tfree#.g</span></code> where <code class="docutils literal notranslate"><span class="pre">#</span></code> is the number of that tool.</p></li>
<li><p>If another tool is already selected, deselect it and set its heaters to their standby temperatures (as defined by the <code class="docutils literal notranslate"><span class="pre">R</span></code> parameter in the most recent <code class="docutils literal notranslate"><span class="pre">G10/M568</span></code> command for that tool)</p></li>
<li><p>Run macro <code class="docutils literal notranslate"><span class="pre">tpre#.g</span></code> where <code class="docutils literal notranslate"><span class="pre">#</span></code> is the number of the new tool</p></li>
<li><p>Set the new tool to its operating temperatures specified by the <code class="docutils literal notranslate"><span class="pre">S</span></code> parameter in the most recent <code class="docutils literal notranslate"><span class="pre">G10/M568</span></code> command for that tool</p></li>
<li><p>Run macro <code class="docutils literal notranslate"><span class="pre">tpost#.g</span></code> where <code class="docutils literal notranslate"><span class="pre">#</span></code> is the number of the new tool. Typically this file would contain at least a <code class="docutils literal notranslate"><span class="pre">M116</span></code> command to wait for its temperatures to stabilise.</p></li>
<li><p>Apply any X, Y, Z offset for the new tool specified by <code class="docutils literal notranslate"><span class="pre">G10</span></code></p></li>
<li><p>Use the new tool.</p></li>
</ul>
</div></blockquote>
<p>The <code class="docutils literal notranslate"><span class="pre">tfree</span></code>, <code class="docutils literal notranslate"><span class="pre">tpre</span></code>, and <code class="docutils literal notranslate"><span class="pre">tpost</span></code> macros are edited for each tool when you first configure them (see the Building a Tool postrequisites). With respect to coordinate systems, note the second to last bullet point above: the 0 position for any new tool depends on your tool calibration! Different tools have different dimensions, and when we pickup a tool its offsets are automatically applied. Note that this means we can move to a ‘negative’ position when we pick up a tool: the firmware will ensure that the we only move within the 300x300x300mm build volume of Jubilee, but this ignores the tool offsets. For example, if tool 1 has a Z offset of 50, this means we can move from <code class="docutils literal notranslate"><span class="pre">Z-50</span></code> to <code class="docutils literal notranslate"><span class="pre">Z250</span></code> to cover the full 300mm range of Jubilee. While <code class="docutils literal notranslate"><span class="pre">science_jubilee</span></code> has built-in functionality to prevent collisions, it is important to consider tool offsets when developing workflows.</p>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#gcode">GCode</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#coordinate-system">Coordinate System</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#absolute-and-relative-positioning">Absolute and Relative Positioning</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#toolchanging">Toolchanging</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/getting_started/primer.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2023, Machine Agency.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.3.7.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.2.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>